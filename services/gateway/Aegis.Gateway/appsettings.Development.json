{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning",
      "Microsoft.Hosting.Lifetime": "Information",
      "Yarp.ReverseProxy": "Debug",
      "Yarp.ReverseProxy.Forwarder": "Debug"
    }
  },
  "AllowedHosts": "*",
  "ReverseProxy": {
    "Routes": {
      "llm_chat" : {
        "ClusterId": "ollama_cluster",
        "Match": {
          "Path": "/api/generate"
        },
        "Metadata" : {
          "InspectPrompt" : true,
          "PromptFormat": "ollama",
          "PolicyId" : "Default"
        }
      }
    },
    "Clusters": {
      "ollama_cluster": {
        "Destinations": {
          "ollama": {
            "Address": "http://host.docker.internal:11434/"
          }
        }
      }
    }
  },
  "Policies": {
    "Default": {
      "DefaultAction": "Allow",
      "SeverityToAction": {
        "low": "Allow",
        "medium": "Allow",
        "high": "Block"
      },
      "TypeOverrides": {
        "pii_email":   { "Action": "Allow" },
        "pii_phone":   { "Action": "Confirm" },
        "pii_iban":    { "Action": "Block" },
        "secret_aws_access_key": { "Action": "Block" },
        "secret_generic_token":  { "Action": "Block" },
        "secret_jwt":            { "Action": "Block" },
        "secret_pem_block":      { "Action": "Block" }
      },
      "Confirm":
      {
        "TtlSeconds" : 120
      }

    }
  },
  "PromptInspectionService": {
    "BaseAddress" : "http://localhost:8000",
    "TimeoutSeconds" : 10
  }
}